{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.OAuthButton = undefined;\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nexports.default = withOAuth;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _core = require('@aws-amplify/core');\n\nvar _auth = require('@aws-amplify/auth');\n\nvar _auth2 = _interopRequireDefault(_auth);\n\nvar _AmplifyTheme = require('../../AmplifyTheme');\n\nvar _AmplifyTheme2 = _interopRequireDefault(_AmplifyTheme);\n\nvar _AmplifyUI = require('../../AmplifyUI');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar logger = new _core.ConsoleLogger('withOAuth');\n\nfunction withOAuth(Comp, options) {\n  return function (_Component) {\n    (0, _inherits3.default)(_class, _Component);\n\n    function _class(props) {\n      (0, _classCallCheck3.default)(this, _class);\n\n      var _this = (0, _possibleConstructorReturn3.default)(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n      _this.signIn = _this.signIn.bind(_this);\n      return _this;\n    }\n\n    (0, _createClass3.default)(_class, [{\n      key: 'signIn',\n      value: function signIn() {\n        if (!_auth2.default || typeof _auth2.default.configure !== 'function') {\n          throw new Error('No Auth module found, please ensure @aws-amplify/auth is imported');\n        }\n\n        var config = this.props.oauth_config || options || _auth2.default.configure().oauth;\n\n        logger.debug('withOAuth configuration', config);\n        var domain = config.domain,\n            redirectSignIn = config.redirectSignIn,\n            redirectSignOut = config.redirectSignOut,\n            responseType = config.responseType;\n        var options = config.options || {};\n\n        var url = 'https://' + domain + '/login?redirect_uri=' + redirectSignIn + '&response_type=' + responseType + '&client_id=' + (options.ClientId || _auth2.default.configure().userPoolWebClientId);\n\n        window.location.assign(url);\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        return _react2.default.createElement(Comp, (0, _extends3.default)({}, this.props, {\n          OAuthSignIn: this.signIn\n        }));\n      }\n    }]);\n    return _class;\n  }(_react.Component);\n}\n\nvar Button = function Button(props) {\n  return _react2.default.createElement(_AmplifyUI.SignInButton, {\n    id: 'OAuth_signin_btn',\n    onClick: props.OAuthSignIn,\n    theme: props.theme || _AmplifyTheme2.default\n  }, props.label || 'Sign in with AWS');\n};\n\nvar OAuthButton = exports.OAuthButton = withOAuth(Button);","map":{"version":3,"sources":["/home/ec2-user/environment/amazon-cognito-identity-management-workshop/website/node_modules/aws-amplify-react/dist/Auth/Provider/withOAuth.js"],"names":["Object","defineProperty","exports","value","OAuthButton","undefined","_extends2","require","_extends3","_interopRequireDefault","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","default","withOAuth","_react","_react2","_core","_auth","_auth2","_AmplifyTheme","_AmplifyTheme2","_AmplifyUI","obj","__esModule","logger","ConsoleLogger","Comp","options","_Component","_class","props","_this","__proto__","getPrototypeOf","call","signIn","bind","key","configure","Error","config","oauth_config","oauth","debug","domain","redirectSignIn","redirectSignOut","responseType","url","ClientId","userPoolWebClientId","window","location","assign","render","createElement","OAuthSignIn","Component","Button","SignInButton","id","onClick","theme","label"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.OAuthButton = undefined;\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nexports.default = withOAuth;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _core = require('@aws-amplify/core');\n\nvar _auth = require('@aws-amplify/auth');\n\nvar _auth2 = _interopRequireDefault(_auth);\n\nvar _AmplifyTheme = require('../../AmplifyTheme');\n\nvar _AmplifyTheme2 = _interopRequireDefault(_AmplifyTheme);\n\nvar _AmplifyUI = require('../../AmplifyUI');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar logger = new _core.ConsoleLogger('withOAuth');\n\nfunction withOAuth(Comp, options) {\n    return function (_Component) {\n        (0, _inherits3.default)(_class, _Component);\n\n        function _class(props) {\n            (0, _classCallCheck3.default)(this, _class);\n\n            var _this = (0, _possibleConstructorReturn3.default)(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n            _this.signIn = _this.signIn.bind(_this);\n            return _this;\n        }\n\n        (0, _createClass3.default)(_class, [{\n            key: 'signIn',\n            value: function signIn() {\n                if (!_auth2.default || typeof _auth2.default.configure !== 'function') {\n                    throw new Error('No Auth module found, please ensure @aws-amplify/auth is imported');\n                }\n\n                var config = this.props.oauth_config || options || _auth2.default.configure().oauth;\n                logger.debug('withOAuth configuration', config);\n                var domain = config.domain,\n                    redirectSignIn = config.redirectSignIn,\n                    redirectSignOut = config.redirectSignOut,\n                    responseType = config.responseType;\n\n\n                var options = config.options || {};\n                var url = 'https://' + domain + '/login?redirect_uri=' + redirectSignIn + '&response_type=' + responseType + '&client_id=' + (options.ClientId || _auth2.default.configure().userPoolWebClientId);\n                window.location.assign(url);\n            }\n        }, {\n            key: 'render',\n            value: function render() {\n                return _react2.default.createElement(Comp, (0, _extends3.default)({}, this.props, { OAuthSignIn: this.signIn }));\n            }\n        }]);\n        return _class;\n    }(_react.Component);\n}\n\nvar Button = function Button(props) {\n    return _react2.default.createElement(\n        _AmplifyUI.SignInButton,\n        {\n            id: 'OAuth_signin_btn',\n            onClick: props.OAuthSignIn,\n            theme: props.theme || _AmplifyTheme2.default\n        },\n        props.label || 'Sign in with AWS'\n    );\n};\n\nvar OAuthButton = exports.OAuthButton = withOAuth(Button);"]},"metadata":{},"sourceType":"script"}