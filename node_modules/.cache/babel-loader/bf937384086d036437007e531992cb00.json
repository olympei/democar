{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _core = require('@aws-amplify/core');\n\nvar _AmplifyTheme = require('../AmplifyTheme');\n\nvar _AmplifyTheme2 = _interopRequireDefault(_AmplifyTheme);\n\nvar _AmplifyMessageMap = require('../AmplifyMessageMap');\n\nvar _AmplifyMessageMap2 = _interopRequireDefault(_AmplifyMessageMap);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\n\n\nvar logger = new _core.ConsoleLogger('AuthPiece');\n\nvar AuthPiece = function (_Component) {\n  (0, _inherits3.default)(AuthPiece, _Component);\n\n  function AuthPiece(props) {\n    (0, _classCallCheck3.default)(this, AuthPiece);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (AuthPiece.__proto__ || Object.getPrototypeOf(AuthPiece)).call(this, props));\n\n    _this.inputs = {};\n    _this._isHidden = true;\n    _this._validAuthStates = [];\n    _this.changeState = _this.changeState.bind(_this);\n    _this.error = _this.error.bind(_this);\n    _this.handleInputChange = _this.handleInputChange.bind(_this);\n    return _this;\n  } // extract username from authData\n\n\n  (0, _createClass3.default)(AuthPiece, [{\n    key: 'usernameFromAuthData',\n    value: function usernameFromAuthData() {\n      var authData = this.props.authData;\n\n      if (!authData) {\n        return '';\n      }\n\n      var username = '';\n\n      if ((typeof authData === 'undefined' ? 'undefined' : (0, _typeof3.default)(authData)) === 'object') {\n        // user object\n        username = authData.user ? authData.user.username : authData.username;\n      } else {\n        username = authData; // username string\n      }\n\n      return username;\n    }\n  }, {\n    key: 'errorMessage',\n    value: function errorMessage(err) {\n      if (typeof err === 'string') {\n        return err;\n      }\n\n      return err.message ? err.message : JSON.stringify(err);\n    }\n  }, {\n    key: 'triggerAuthEvent',\n    value: function triggerAuthEvent(event) {\n      var state = this.props.authState;\n\n      if (this.props.onAuthEvent) {\n        this.props.onAuthEvent(state, event);\n      }\n    }\n  }, {\n    key: 'changeState',\n    value: function changeState(state, data) {\n      if (this.props.onStateChange) {\n        this.props.onStateChange(state, data);\n      }\n\n      this.triggerAuthEvent({\n        type: 'stateChange',\n        data: state\n      });\n    }\n  }, {\n    key: 'error',\n    value: function error(err) {\n      this.triggerAuthEvent({\n        type: 'error',\n        data: this.errorMessage(err)\n      });\n    }\n  }, {\n    key: 'handleInputChange',\n    value: function handleInputChange(evt) {\n      this.inputs = this.inputs || {};\n      var _evt$target = evt.target,\n          name = _evt$target.name,\n          value = _evt$target.value,\n          type = _evt$target.type,\n          checked = _evt$target.checked;\n      var check_type = ['radio', 'checkbox'].includes(type);\n      this.inputs[name] = check_type ? checked : value;\n      this.inputs['checkedValue'] = check_type ? value : null;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!this._validAuthStates.includes(this.props.authState)) {\n        this._isHidden = true;\n        return null;\n      }\n\n      if (this._isHidden) {\n        var track = this.props.track;\n        if (track) track();\n      }\n\n      this._isHidden = false;\n      return this.showComponent(this.props.theme || _AmplifyTheme2.default);\n    }\n  }, {\n    key: 'showComponent',\n    value: function showComponent(theme) {\n      throw 'You must implement showComponent(theme) and don\\'t forget to set this._validAuthStates.';\n    }\n  }]);\n  return AuthPiece;\n}(_react.Component);\n\nexports.default = AuthPiece;","map":{"version":3,"sources":["/home/ec2-user/environment/amazon-cognito-identity-management-workshop/website/node_modules/aws-amplify-react/dist/Auth/AuthPiece.js"],"names":["Object","defineProperty","exports","value","_typeof2","require","_typeof3","_interopRequireDefault","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_core","_AmplifyTheme","_AmplifyTheme2","_AmplifyMessageMap","_AmplifyMessageMap2","obj","__esModule","default","logger","ConsoleLogger","AuthPiece","_Component","props","_this","__proto__","getPrototypeOf","call","inputs","_isHidden","_validAuthStates","changeState","bind","error","handleInputChange","key","usernameFromAuthData","authData","username","user","errorMessage","err","message","JSON","stringify","triggerAuthEvent","event","state","authState","onAuthEvent","data","onStateChange","type","evt","_evt$target","target","name","checked","check_type","includes","render","track","showComponent","theme","Component"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _core = require('@aws-amplify/core');\n\nvar _AmplifyTheme = require('../AmplifyTheme');\n\nvar _AmplifyTheme2 = _interopRequireDefault(_AmplifyTheme);\n\nvar _AmplifyMessageMap = require('../AmplifyMessageMap');\n\nvar _AmplifyMessageMap2 = _interopRequireDefault(_AmplifyMessageMap);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\n\nvar logger = new _core.ConsoleLogger('AuthPiece');\n\nvar AuthPiece = function (_Component) {\n    (0, _inherits3.default)(AuthPiece, _Component);\n\n    function AuthPiece(props) {\n        (0, _classCallCheck3.default)(this, AuthPiece);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (AuthPiece.__proto__ || Object.getPrototypeOf(AuthPiece)).call(this, props));\n\n        _this.inputs = {};\n\n        _this._isHidden = true;\n        _this._validAuthStates = [];\n        _this.changeState = _this.changeState.bind(_this);\n        _this.error = _this.error.bind(_this);\n        _this.handleInputChange = _this.handleInputChange.bind(_this);\n        return _this;\n    }\n\n    // extract username from authData\n\n\n    (0, _createClass3.default)(AuthPiece, [{\n        key: 'usernameFromAuthData',\n        value: function usernameFromAuthData() {\n            var authData = this.props.authData;\n\n            if (!authData) {\n                return '';\n            }\n\n            var username = '';\n            if ((typeof authData === 'undefined' ? 'undefined' : (0, _typeof3.default)(authData)) === 'object') {\n                // user object\n                username = authData.user ? authData.user.username : authData.username;\n            } else {\n                username = authData; // username string\n            }\n\n            return username;\n        }\n    }, {\n        key: 'errorMessage',\n        value: function errorMessage(err) {\n            if (typeof err === 'string') {\n                return err;\n            }\n            return err.message ? err.message : JSON.stringify(err);\n        }\n    }, {\n        key: 'triggerAuthEvent',\n        value: function triggerAuthEvent(event) {\n            var state = this.props.authState;\n            if (this.props.onAuthEvent) {\n                this.props.onAuthEvent(state, event);\n            }\n        }\n    }, {\n        key: 'changeState',\n        value: function changeState(state, data) {\n            if (this.props.onStateChange) {\n                this.props.onStateChange(state, data);\n            }\n\n            this.triggerAuthEvent({\n                type: 'stateChange',\n                data: state\n            });\n        }\n    }, {\n        key: 'error',\n        value: function error(err) {\n            this.triggerAuthEvent({\n                type: 'error',\n                data: this.errorMessage(err)\n            });\n        }\n    }, {\n        key: 'handleInputChange',\n        value: function handleInputChange(evt) {\n            this.inputs = this.inputs || {};\n            var _evt$target = evt.target,\n                name = _evt$target.name,\n                value = _evt$target.value,\n                type = _evt$target.type,\n                checked = _evt$target.checked;\n\n            var check_type = ['radio', 'checkbox'].includes(type);\n            this.inputs[name] = check_type ? checked : value;\n            this.inputs['checkedValue'] = check_type ? value : null;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this._validAuthStates.includes(this.props.authState)) {\n                this._isHidden = true;\n                return null;\n            }\n\n            if (this._isHidden) {\n                var track = this.props.track;\n\n                if (track) track();\n            }\n            this._isHidden = false;\n\n            return this.showComponent(this.props.theme || _AmplifyTheme2.default);\n        }\n    }, {\n        key: 'showComponent',\n        value: function showComponent(theme) {\n            throw 'You must implement showComponent(theme) and don\\'t forget to set this._validAuthStates.';\n        }\n    }]);\n    return AuthPiece;\n}(_react.Component);\n\nexports.default = AuthPiece;"]},"metadata":{},"sourceType":"script"}