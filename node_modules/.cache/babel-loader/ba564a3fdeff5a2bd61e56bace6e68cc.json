{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _core = require('@aws-amplify/core');\n\nvar _Greetings = require('./Greetings');\n\nvar _Greetings2 = _interopRequireDefault(_Greetings);\n\nvar _SignIn = require('./SignIn');\n\nvar _SignIn2 = _interopRequireDefault(_SignIn);\n\nvar _ConfirmSignIn = require('./ConfirmSignIn');\n\nvar _ConfirmSignIn2 = _interopRequireDefault(_ConfirmSignIn);\n\nvar _RequireNewPassword = require('./RequireNewPassword');\n\nvar _RequireNewPassword2 = _interopRequireDefault(_RequireNewPassword);\n\nvar _SignUp = require('./SignUp');\n\nvar _SignUp2 = _interopRequireDefault(_SignUp);\n\nvar _ConfirmSignUp = require('./ConfirmSignUp');\n\nvar _ConfirmSignUp2 = _interopRequireDefault(_ConfirmSignUp);\n\nvar _VerifyContact = require('./VerifyContact');\n\nvar _VerifyContact2 = _interopRequireDefault(_VerifyContact);\n\nvar _ForgotPassword = require('./ForgotPassword');\n\nvar _ForgotPassword2 = _interopRequireDefault(_ForgotPassword);\n\nvar _TOTPSetup = require('./TOTPSetup');\n\nvar _TOTPSetup2 = _interopRequireDefault(_TOTPSetup);\n\nvar _AmplifyTheme = require('../AmplifyTheme');\n\nvar _AmplifyTheme2 = _interopRequireDefault(_AmplifyTheme);\n\nvar _AmplifyUI = require('../AmplifyUI');\n\nvar _AmplifyMessageMap = require('../AmplifyMessageMap');\n\nvar _AmplifyMessageMap2 = _interopRequireDefault(_AmplifyMessageMap);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\n\n\nvar logger = new _core.ConsoleLogger('Authenticator');\n\nvar Authenticator = function (_Component) {\n  (0, _inherits3.default)(Authenticator, _Component);\n\n  function Authenticator(props) {\n    (0, _classCallCheck3.default)(this, Authenticator);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Authenticator.__proto__ || Object.getPrototypeOf(Authenticator)).call(this, props));\n\n    _this.handleStateChange = _this.handleStateChange.bind(_this);\n    _this.handleAuthEvent = _this.handleAuthEvent.bind(_this);\n    _this.errorRenderer = _this.errorRenderer.bind(_this);\n    _this.state = {\n      auth: props.authState || 'signIn'\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(Authenticator, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      var config = this.props.amplifyConfig;\n\n      if (config) {\n        _core.Amplify.configure(config);\n      }\n    }\n  }, {\n    key: 'handleStateChange',\n    value: function handleStateChange(state, data) {\n      logger.debug('authenticator state change ' + state, data);\n\n      if (state === this.state.auth) {\n        return;\n      }\n\n      if (state === 'signedOut') {\n        state = 'signIn';\n      }\n\n      this.setState({\n        auth: state,\n        authData: data,\n        error: null\n      });\n\n      if (this.props.onStateChange) {\n        this.props.onStateChange(state, data);\n      }\n    }\n  }, {\n    key: 'handleAuthEvent',\n    value: function handleAuthEvent(state, event) {\n      if (event.type === 'error') {\n        var map = this.props.errorMessage || _AmplifyMessageMap2.default;\n        var message = typeof map === 'string' ? map : map(event.data);\n        this.setState({\n          error: message\n        });\n      }\n    }\n  }, {\n    key: 'errorRenderer',\n    value: function errorRenderer(err) {\n      var theme = this.props.theme || _AmplifyTheme2.default;\n      return _react2.default.createElement(_AmplifyUI.ErrorSection, {\n        theme: theme\n      }, _react2.default.createElement(_AmplifyUI.SectionBody, {\n        theme: theme\n      }, err));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _state = this.state,\n          auth = _state.auth,\n          authData = _state.authData;\n      var theme = this.props.theme || _AmplifyTheme2.default;\n      var messageMap = this.props.errorMessage || _AmplifyMessageMap2.default;\n      var _props = this.props,\n          hideDefault = _props.hideDefault,\n          hide = _props.hide,\n          federated = _props.federated;\n\n      if (!hide) {\n        hide = [];\n      }\n\n      if (hideDefault) {\n        hide = hide.concat([_Greetings2.default, _SignIn2.default, _ConfirmSignIn2.default, _RequireNewPassword2.default, _SignUp2.default, _ConfirmSignUp2.default, _VerifyContact2.default, _ForgotPassword2.default, _TOTPSetup2.default]);\n      }\n\n      var props_children = this.props.children || [];\n      var default_children = [_react2.default.createElement(_Greetings2.default, null), _react2.default.createElement(_SignIn2.default, {\n        federated: federated\n      }), _react2.default.createElement(_ConfirmSignIn2.default, null), _react2.default.createElement(_RequireNewPassword2.default, null), _react2.default.createElement(_SignUp2.default, null), _react2.default.createElement(_ConfirmSignUp2.default, null), _react2.default.createElement(_VerifyContact2.default, null), _react2.default.createElement(_ForgotPassword2.default, null), _react2.default.createElement(_TOTPSetup2.default, null)];\n\n      var render_props_children = _react2.default.Children.map(props_children, function (child, index) {\n        return _react2.default.cloneElement(child, {\n          key: 'aws-amplify-authenticator-props-children-' + index,\n          theme: theme,\n          messageMap: messageMap,\n          authState: auth,\n          authData: authData,\n          onStateChange: _this2.handleStateChange,\n          onAuthEvent: _this2.handleAuthEvent\n        });\n      });\n\n      var render_default_children = _react2.default.Children.map(default_children, function (child, index) {\n        return _react2.default.cloneElement(child, {\n          key: 'aws-amplify-authenticator-default-children-' + index,\n          theme: theme,\n          messageMap: messageMap,\n          authState: auth,\n          authData: authData,\n          onStateChange: _this2.handleStateChange,\n          onAuthEvent: _this2.handleAuthEvent,\n          hide: hide\n        });\n      });\n\n      var render_children = render_default_children.concat(render_props_children);\n      var errorRenderer = this.props.errorRenderer || this.errorRenderer;\n      var error = this.state.error;\n      return _react2.default.createElement(_AmplifyUI.Container, {\n        theme: theme\n      }, render_children, error ? errorRenderer(error) : null);\n    }\n  }]);\n  return Authenticator;\n}(_react.Component);\n\nexports.default = Authenticator;","map":{"version":3,"sources":["/home/ec2-user/environment/amazon-cognito-identity-management-workshop/website/node_modules/aws-amplify-react/dist/Auth/Authenticator.js"],"names":["Object","defineProperty","exports","value","_classCallCheck2","require","_classCallCheck3","_interopRequireDefault","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_core","_Greetings","_Greetings2","_SignIn","_SignIn2","_ConfirmSignIn","_ConfirmSignIn2","_RequireNewPassword","_RequireNewPassword2","_SignUp","_SignUp2","_ConfirmSignUp","_ConfirmSignUp2","_VerifyContact","_VerifyContact2","_ForgotPassword","_ForgotPassword2","_TOTPSetup","_TOTPSetup2","_AmplifyTheme","_AmplifyTheme2","_AmplifyUI","_AmplifyMessageMap","_AmplifyMessageMap2","obj","__esModule","default","logger","ConsoleLogger","Authenticator","_Component","props","_this","__proto__","getPrototypeOf","call","handleStateChange","bind","handleAuthEvent","errorRenderer","state","auth","authState","key","componentWillMount","config","amplifyConfig","Amplify","configure","data","debug","setState","authData","error","onStateChange","event","type","map","errorMessage","message","err","theme","createElement","ErrorSection","SectionBody","render","_this2","_state","messageMap","_props","hideDefault","hide","federated","concat","props_children","children","default_children","render_props_children","Children","child","index","cloneElement","onAuthEvent","render_default_children","render_children","Container","Component"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _core = require('@aws-amplify/core');\n\nvar _Greetings = require('./Greetings');\n\nvar _Greetings2 = _interopRequireDefault(_Greetings);\n\nvar _SignIn = require('./SignIn');\n\nvar _SignIn2 = _interopRequireDefault(_SignIn);\n\nvar _ConfirmSignIn = require('./ConfirmSignIn');\n\nvar _ConfirmSignIn2 = _interopRequireDefault(_ConfirmSignIn);\n\nvar _RequireNewPassword = require('./RequireNewPassword');\n\nvar _RequireNewPassword2 = _interopRequireDefault(_RequireNewPassword);\n\nvar _SignUp = require('./SignUp');\n\nvar _SignUp2 = _interopRequireDefault(_SignUp);\n\nvar _ConfirmSignUp = require('./ConfirmSignUp');\n\nvar _ConfirmSignUp2 = _interopRequireDefault(_ConfirmSignUp);\n\nvar _VerifyContact = require('./VerifyContact');\n\nvar _VerifyContact2 = _interopRequireDefault(_VerifyContact);\n\nvar _ForgotPassword = require('./ForgotPassword');\n\nvar _ForgotPassword2 = _interopRequireDefault(_ForgotPassword);\n\nvar _TOTPSetup = require('./TOTPSetup');\n\nvar _TOTPSetup2 = _interopRequireDefault(_TOTPSetup);\n\nvar _AmplifyTheme = require('../AmplifyTheme');\n\nvar _AmplifyTheme2 = _interopRequireDefault(_AmplifyTheme);\n\nvar _AmplifyUI = require('../AmplifyUI');\n\nvar _AmplifyMessageMap = require('../AmplifyMessageMap');\n\nvar _AmplifyMessageMap2 = _interopRequireDefault(_AmplifyMessageMap);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\n\nvar logger = new _core.ConsoleLogger('Authenticator');\n\nvar Authenticator = function (_Component) {\n    (0, _inherits3.default)(Authenticator, _Component);\n\n    function Authenticator(props) {\n        (0, _classCallCheck3.default)(this, Authenticator);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (Authenticator.__proto__ || Object.getPrototypeOf(Authenticator)).call(this, props));\n\n        _this.handleStateChange = _this.handleStateChange.bind(_this);\n        _this.handleAuthEvent = _this.handleAuthEvent.bind(_this);\n        _this.errorRenderer = _this.errorRenderer.bind(_this);\n\n        _this.state = { auth: props.authState || 'signIn' };\n        return _this;\n    }\n\n    (0, _createClass3.default)(Authenticator, [{\n        key: 'componentWillMount',\n        value: function componentWillMount() {\n            var config = this.props.amplifyConfig;\n            if (config) {\n                _core.Amplify.configure(config);\n            }\n        }\n    }, {\n        key: 'handleStateChange',\n        value: function handleStateChange(state, data) {\n            logger.debug('authenticator state change ' + state, data);\n            if (state === this.state.auth) {\n                return;\n            }\n\n            if (state === 'signedOut') {\n                state = 'signIn';\n            }\n            this.setState({ auth: state, authData: data, error: null });\n            if (this.props.onStateChange) {\n                this.props.onStateChange(state, data);\n            }\n        }\n    }, {\n        key: 'handleAuthEvent',\n        value: function handleAuthEvent(state, event) {\n            if (event.type === 'error') {\n                var map = this.props.errorMessage || _AmplifyMessageMap2.default;\n                var message = typeof map === 'string' ? map : map(event.data);\n                this.setState({ error: message });\n            }\n        }\n    }, {\n        key: 'errorRenderer',\n        value: function errorRenderer(err) {\n            var theme = this.props.theme || _AmplifyTheme2.default;\n            return _react2.default.createElement(\n                _AmplifyUI.ErrorSection,\n                { theme: theme },\n                _react2.default.createElement(\n                    _AmplifyUI.SectionBody,\n                    { theme: theme },\n                    err\n                )\n            );\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var _state = this.state,\n                auth = _state.auth,\n                authData = _state.authData;\n\n            var theme = this.props.theme || _AmplifyTheme2.default;\n            var messageMap = this.props.errorMessage || _AmplifyMessageMap2.default;\n\n            var _props = this.props,\n                hideDefault = _props.hideDefault,\n                hide = _props.hide,\n                federated = _props.federated;\n\n            if (!hide) {\n                hide = [];\n            }\n            if (hideDefault) {\n                hide = hide.concat([_Greetings2.default, _SignIn2.default, _ConfirmSignIn2.default, _RequireNewPassword2.default, _SignUp2.default, _ConfirmSignUp2.default, _VerifyContact2.default, _ForgotPassword2.default, _TOTPSetup2.default]);\n            }\n            var props_children = this.props.children || [];\n            var default_children = [_react2.default.createElement(_Greetings2.default, null), _react2.default.createElement(_SignIn2.default, { federated: federated }), _react2.default.createElement(_ConfirmSignIn2.default, null), _react2.default.createElement(_RequireNewPassword2.default, null), _react2.default.createElement(_SignUp2.default, null), _react2.default.createElement(_ConfirmSignUp2.default, null), _react2.default.createElement(_VerifyContact2.default, null), _react2.default.createElement(_ForgotPassword2.default, null), _react2.default.createElement(_TOTPSetup2.default, null)];\n\n            var render_props_children = _react2.default.Children.map(props_children, function (child, index) {\n                return _react2.default.cloneElement(child, {\n                    key: 'aws-amplify-authenticator-props-children-' + index,\n                    theme: theme,\n                    messageMap: messageMap,\n                    authState: auth,\n                    authData: authData,\n                    onStateChange: _this2.handleStateChange,\n                    onAuthEvent: _this2.handleAuthEvent\n                });\n            });\n\n            var render_default_children = _react2.default.Children.map(default_children, function (child, index) {\n                return _react2.default.cloneElement(child, {\n                    key: 'aws-amplify-authenticator-default-children-' + index,\n                    theme: theme,\n                    messageMap: messageMap,\n                    authState: auth,\n                    authData: authData,\n                    onStateChange: _this2.handleStateChange,\n                    onAuthEvent: _this2.handleAuthEvent,\n                    hide: hide\n                });\n            });\n\n            var render_children = render_default_children.concat(render_props_children);\n\n            var errorRenderer = this.props.errorRenderer || this.errorRenderer;\n            var error = this.state.error;\n            return _react2.default.createElement(\n                _AmplifyUI.Container,\n                { theme: theme },\n                render_children,\n                error ? errorRenderer(error) : null\n            );\n        }\n    }]);\n    return Authenticator;\n}(_react.Component);\n\nexports.default = Authenticator;"]},"metadata":{},"sourceType":"script"}