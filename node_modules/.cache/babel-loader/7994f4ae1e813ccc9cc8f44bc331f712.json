{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _core = require('@aws-amplify/core');\n\nvar _auth = require('@aws-amplify/auth');\n\nvar _auth2 = _interopRequireDefault(_auth);\n\nvar _AuthPiece2 = require('./AuthPiece');\n\nvar _AuthPiece3 = _interopRequireDefault(_AuthPiece2);\n\nvar _AmplifyTheme = require('../AmplifyTheme');\n\nvar _AmplifyTheme2 = _interopRequireDefault(_AmplifyTheme);\n\nvar _AmplifyUI = require('../AmplifyUI');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\n\n\nvar logger = new _core.ConsoleLogger('ForgotPassword');\n\nvar ForgotPassword = function (_AuthPiece) {\n  (0, _inherits3.default)(ForgotPassword, _AuthPiece);\n\n  function ForgotPassword(props) {\n    (0, _classCallCheck3.default)(this, ForgotPassword);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (ForgotPassword.__proto__ || Object.getPrototypeOf(ForgotPassword)).call(this, props));\n\n    _this.send = _this.send.bind(_this);\n    _this.submit = _this.submit.bind(_this);\n    _this._validAuthStates = ['forgotPassword'];\n    _this.state = {\n      delivery: null\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(ForgotPassword, [{\n    key: 'send',\n    value: function send() {\n      var _this2 = this;\n\n      var username = this.inputs.username;\n\n      if (!_auth2.default || typeof _auth2.default.forgotPassword !== 'function') {\n        throw new Error('No Auth module found, please ensure @aws-amplify/auth is imported');\n      }\n\n      _auth2.default.forgotPassword(username).then(function (data) {\n        logger.debug(data);\n\n        _this2.setState({\n          delivery: data.CodeDeliveryDetails\n        });\n      }).catch(function (err) {\n        return _this2.error(err);\n      });\n    }\n  }, {\n    key: 'submit',\n    value: function submit() {\n      var _this3 = this;\n\n      var _inputs = this.inputs,\n          username = _inputs.username,\n          code = _inputs.code,\n          password = _inputs.password;\n\n      if (!_auth2.default || typeof _auth2.default.forgotPasswordSubmit !== 'function') {\n        throw new Error('No Auth module found, please ensure @aws-amplify/auth is imported');\n      }\n\n      _auth2.default.forgotPasswordSubmit(username, code, password).then(function (data) {\n        logger.debug(data);\n\n        _this3.changeState('signIn');\n\n        _this3.setState({\n          delivery: null\n        });\n      }).catch(function (err) {\n        return _this3.error(err);\n      });\n    }\n  }, {\n    key: 'sendView',\n    value: function sendView() {\n      var theme = this.props.theme || _AmplifyTheme2.default;\n      return _react2.default.createElement('div', null, _react2.default.createElement(_AmplifyUI.InputRow, {\n        autoFocus: true,\n        placeholder: _core.I18n.get('Username'),\n        theme: theme,\n        key: 'username',\n        name: 'username',\n        onChange: this.handleInputChange\n      }), _react2.default.createElement(_AmplifyUI.ButtonRow, {\n        theme: theme,\n        onClick: this.send\n      }, _core.I18n.get('Send Code')));\n    }\n  }, {\n    key: 'submitView',\n    value: function submitView() {\n      var theme = this.props.theme || _AmplifyTheme2.default;\n      return _react2.default.createElement('div', null, _react2.default.createElement(_AmplifyUI.InputRow, {\n        placeholder: _core.I18n.get('Code'),\n        theme: theme,\n        key: 'code',\n        name: 'code',\n        autoComplete: 'off',\n        onChange: this.handleInputChange\n      }), _react2.default.createElement(_AmplifyUI.InputRow, {\n        placeholder: _core.I18n.get('New Password'),\n        theme: theme,\n        type: 'password',\n        key: 'password',\n        name: 'password',\n        onChange: this.handleInputChange\n      }), _react2.default.createElement(_AmplifyUI.ButtonRow, {\n        theme: theme,\n        onClick: this.submit\n      }, _core.I18n.get('Submit')));\n    }\n  }, {\n    key: 'showComponent',\n    value: function showComponent(theme) {\n      var _this4 = this;\n\n      var _props = this.props,\n          authState = _props.authState,\n          hide = _props.hide;\n\n      if (hide && hide.includes(ForgotPassword)) {\n        return null;\n      }\n\n      return _react2.default.createElement(_AmplifyUI.FormSection, {\n        theme: theme\n      }, _react2.default.createElement(_AmplifyUI.SectionHeader, {\n        theme: theme\n      }, _core.I18n.get('Forgot Password')), _react2.default.createElement(_AmplifyUI.SectionBody, null, this.state.delivery ? this.submitView() : this.sendView()), _react2.default.createElement(_AmplifyUI.SectionFooter, {\n        theme: theme\n      }, _react2.default.createElement(_AmplifyUI.Link, {\n        theme: theme,\n        onClick: function onClick() {\n          return _this4.changeState('signIn');\n        }\n      }, _core.I18n.get('Back to Sign In'))));\n    }\n  }]);\n  return ForgotPassword;\n}(_AuthPiece3.default);\n\nexports.default = ForgotPassword;","map":{"version":3,"sources":["/home/ec2-user/environment/amazon-cognito-identity-management-workshop/website/node_modules/aws-amplify-react/dist/Auth/ForgotPassword.js"],"names":["Object","defineProperty","exports","value","_classCallCheck2","require","_classCallCheck3","_interopRequireDefault","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_core","_auth","_auth2","_AuthPiece2","_AuthPiece3","_AmplifyTheme","_AmplifyTheme2","_AmplifyUI","obj","__esModule","default","logger","ConsoleLogger","ForgotPassword","_AuthPiece","props","_this","__proto__","getPrototypeOf","call","send","bind","submit","_validAuthStates","state","delivery","key","_this2","username","inputs","forgotPassword","Error","then","data","debug","setState","CodeDeliveryDetails","catch","err","error","_this3","_inputs","code","password","forgotPasswordSubmit","changeState","sendView","theme","createElement","InputRow","autoFocus","placeholder","I18n","get","name","onChange","handleInputChange","ButtonRow","onClick","submitView","autoComplete","type","showComponent","_this4","_props","authState","hide","includes","FormSection","SectionHeader","SectionBody","SectionFooter","Link"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _core = require('@aws-amplify/core');\n\nvar _auth = require('@aws-amplify/auth');\n\nvar _auth2 = _interopRequireDefault(_auth);\n\nvar _AuthPiece2 = require('./AuthPiece');\n\nvar _AuthPiece3 = _interopRequireDefault(_AuthPiece2);\n\nvar _AmplifyTheme = require('../AmplifyTheme');\n\nvar _AmplifyTheme2 = _interopRequireDefault(_AmplifyTheme);\n\nvar _AmplifyUI = require('../AmplifyUI');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\n\nvar logger = new _core.ConsoleLogger('ForgotPassword');\n\nvar ForgotPassword = function (_AuthPiece) {\n    (0, _inherits3.default)(ForgotPassword, _AuthPiece);\n\n    function ForgotPassword(props) {\n        (0, _classCallCheck3.default)(this, ForgotPassword);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (ForgotPassword.__proto__ || Object.getPrototypeOf(ForgotPassword)).call(this, props));\n\n        _this.send = _this.send.bind(_this);\n        _this.submit = _this.submit.bind(_this);\n\n        _this._validAuthStates = ['forgotPassword'];\n        _this.state = { delivery: null };\n        return _this;\n    }\n\n    (0, _createClass3.default)(ForgotPassword, [{\n        key: 'send',\n        value: function send() {\n            var _this2 = this;\n\n            var username = this.inputs.username;\n\n            if (!_auth2.default || typeof _auth2.default.forgotPassword !== 'function') {\n                throw new Error('No Auth module found, please ensure @aws-amplify/auth is imported');\n            }\n            _auth2.default.forgotPassword(username).then(function (data) {\n                logger.debug(data);\n                _this2.setState({ delivery: data.CodeDeliveryDetails });\n            }).catch(function (err) {\n                return _this2.error(err);\n            });\n        }\n    }, {\n        key: 'submit',\n        value: function submit() {\n            var _this3 = this;\n\n            var _inputs = this.inputs,\n                username = _inputs.username,\n                code = _inputs.code,\n                password = _inputs.password;\n\n            if (!_auth2.default || typeof _auth2.default.forgotPasswordSubmit !== 'function') {\n                throw new Error('No Auth module found, please ensure @aws-amplify/auth is imported');\n            }\n            _auth2.default.forgotPasswordSubmit(username, code, password).then(function (data) {\n                logger.debug(data);\n                _this3.changeState('signIn');\n                _this3.setState({ delivery: null });\n            }).catch(function (err) {\n                return _this3.error(err);\n            });\n        }\n    }, {\n        key: 'sendView',\n        value: function sendView() {\n            var theme = this.props.theme || _AmplifyTheme2.default;\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(_AmplifyUI.InputRow, {\n                    autoFocus: true,\n                    placeholder: _core.I18n.get('Username'),\n                    theme: theme,\n                    key: 'username',\n                    name: 'username',\n                    onChange: this.handleInputChange\n                }),\n                _react2.default.createElement(\n                    _AmplifyUI.ButtonRow,\n                    { theme: theme, onClick: this.send },\n                    _core.I18n.get('Send Code')\n                )\n            );\n        }\n    }, {\n        key: 'submitView',\n        value: function submitView() {\n            var theme = this.props.theme || _AmplifyTheme2.default;\n            return _react2.default.createElement(\n                'div',\n                null,\n                _react2.default.createElement(_AmplifyUI.InputRow, {\n                    placeholder: _core.I18n.get('Code'),\n                    theme: theme,\n                    key: 'code',\n                    name: 'code',\n                    autoComplete: 'off',\n                    onChange: this.handleInputChange\n                }),\n                _react2.default.createElement(_AmplifyUI.InputRow, {\n                    placeholder: _core.I18n.get('New Password'),\n                    theme: theme,\n                    type: 'password',\n                    key: 'password',\n                    name: 'password',\n                    onChange: this.handleInputChange\n                }),\n                _react2.default.createElement(\n                    _AmplifyUI.ButtonRow,\n                    { theme: theme, onClick: this.submit },\n                    _core.I18n.get('Submit')\n                )\n            );\n        }\n    }, {\n        key: 'showComponent',\n        value: function showComponent(theme) {\n            var _this4 = this;\n\n            var _props = this.props,\n                authState = _props.authState,\n                hide = _props.hide;\n\n            if (hide && hide.includes(ForgotPassword)) {\n                return null;\n            }\n\n            return _react2.default.createElement(\n                _AmplifyUI.FormSection,\n                { theme: theme },\n                _react2.default.createElement(\n                    _AmplifyUI.SectionHeader,\n                    { theme: theme },\n                    _core.I18n.get('Forgot Password')\n                ),\n                _react2.default.createElement(\n                    _AmplifyUI.SectionBody,\n                    null,\n                    this.state.delivery ? this.submitView() : this.sendView()\n                ),\n                _react2.default.createElement(\n                    _AmplifyUI.SectionFooter,\n                    { theme: theme },\n                    _react2.default.createElement(\n                        _AmplifyUI.Link,\n                        { theme: theme, onClick: function onClick() {\n                                return _this4.changeState('signIn');\n                            } },\n                        _core.I18n.get('Back to Sign In')\n                    )\n                )\n            );\n        }\n    }]);\n    return ForgotPassword;\n}(_AuthPiece3.default);\n\nexports.default = ForgotPassword;"]},"metadata":{},"sourceType":"script"}